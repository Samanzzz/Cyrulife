const weeklyPlans = {

    "Saturday": {
        "meals": {
            "breakfast": [
                { "food": "Scrambled Eggs", "quantity": "4 eggs", "calories": 320 },
                { "food": "Avocado", "quantity": "1 medium", "calories": 240 }
            ],
            "lunch": [
                { "food": "Beef Steak", "quantity": "8 oz", "calories": 600 },
                { "food": "Roasted Sweet Potatoes", "quantity": "1 cup", "calories": 180 },
                { "food": "Steamed Broccoli", "quantity": "1 cup", "calories": 55 }
            ],
            "snack": [
                { "food": "Almonds", "quantity": "1 handful", "calories": 165 }
            ],
            "dinner": [
                { "food": "Salmon", "quantity": "8 oz", "calories": 460 },
                { "food": "Roasted Carrots", "quantity": "1 cup", "calories": 50 },
                { "food": "Green Beans", "quantity": "1 cup", "calories": 44 }
            ]
        },
        "workouts": [
            { "exercise": "Squats", "quantity": "5 sets x 12 reps (bodyweight)" },
            { "exercise": "Push-ups", "quantity": "4 sets x 15 reps" },
            { "exercise": "Brisk Walk", "quantity": "30 min" }
        ]
    },
    "Sunday": {
        "meals": {
            "breakfast": [
                { "food": "Scrambled Eggs", "quantity": "4 eggs", "calories": 320 },
                { "food": "Avocado", "quantity": "1 medium", "calories": 240 }
            ],
            "lunch": [
                { "food": "Chicken Breast", "quantity": "8 oz", "calories": 376 },
                { "food": "Brown Rice", "quantity": "1 cup", "calories": 218 },
                { "food": "Steamed Broccoli", "quantity": "1 cup", "calories": 55 }
            ],
            "snack": [
                { "food": "Almonds", "quantity": "1 handful", "calories": 165 }
            ],
            "dinner": [
                { "food": "Salmon", "quantity": "8 oz", "calories": 460 },
                { "food": "Roasted Sweet Potatoes", "quantity": "1 cup", "calories": 180 },
                { "food": "Asparagus", "quantity": "1 cup", "calories": 40 }
            ]
        },
        "workouts": [
            { "exercise": "Squats", "quantity": "5 sets x 12 reps (bodyweight)" },
            { "exercise": "Push-ups", "quantity": "4 sets x 15 reps" },
            { "exercise": "Brisk Walk", "quantity": "30 min" }
        ]
    },
    "Monday": {
        "meals": {
            "breakfast": [
                { "food": "Eggs", "quantity": "3 eggs", "calories": 240 },
                { "food": "Avocado", "quantity": "1/2 medium", "calories": 120 }
            ],
            "lunch": [
                { "food": "Steak", "quantity": "8 oz", "calories": 600 },
                { "food": "Quinoa", "quantity": "1 cup", "calories": 222 }
            ],
            "snack": [
                { "food": "Walnuts", "quantity": "1 handful", "calories": 185 }
            ],
            "dinner": [
                { "food": "Chicken Breast", "quantity": "8 oz", "calories": 376 },
                { "food": "Brussels Sprouts", "quantity": "1 cup", "calories": 56 },
                { "food": "Mashed Sweet Potatoes", "quantity": "1 cup", "calories": 180 }
            ]
        },
        "workouts": [
            { "exercise": "Brisk Walk", "quantity": "45 min" },
            { "exercise": "Jump Rope", "quantity": "5 sets x 1 min" }
        ]
    },
    "Tuesday": {
        "meals": {
            "breakfast": [
                { "food": "Scrambled Eggs", "quantity": "3 eggs", "calories": 240 },
                { "food": "Spinach", "quantity": "1 cup", "calories": 7 }
            ],
            "lunch": [
                { "food": "Chicken Breast", "quantity": "8 oz", "calories": 376 },
                { "food": "Roasted Carrots", "quantity": "1 cup", "calories": 50 },
                { "food": "Brown Rice", "quantity": "1 cup", "calories": 218 }
            ],
            "snack": [
                { "food": "Greek Yogurt", "quantity": "1 cup", "calories": 100 }
            ],
            "dinner": [
                { "food": "Salmon", "quantity": "8 oz", "calories": 460 },
                { "food": "Roasted Sweet Potatoes", "quantity": "1 cup", "calories": 180 },
                { "food": "Green Beans", "quantity": "1 cup", "calories": 44 }
            ]
        },
        "workouts": [
            { "exercise": "Squats", "quantity": "5 sets x 12 reps (bodyweight)" },
            { "exercise": "Push-ups", "quantity": "4 sets x 12 reps" },
            { "exercise": "Walking Lunges", "quantity": "3 sets x 12 reps per leg" }
        ]
    },
    "Wednesday": {
        "meals": {
            "breakfast": [
                { "food": "Eggs", "quantity": "4 eggs", "calories": 320 },
                { "food": "Avocado", "quantity": "1 medium", "calories": 240 }
            ],
            "lunch": [
                { "food": "Beef Steak", "quantity": "8 oz", "calories": 600 },
                { "food": "Quinoa", "quantity": "1 cup", "calories": 222 },
                { "food": "Steamed Broccoli", "quantity": "1 cup", "calories": 55 }
            ],
            "snack": [
                { "food": "Almonds", "quantity": "1 handful", "calories": 165 }
            ],
            "dinner": [
                { "food": "Chicken Breast", "quantity": "8 oz", "calories": 376 },
                { "food": "Roasted Brussels Sprouts", "quantity": "1 cup", "calories": 56 },
                { "food": "Mashed Sweet Potatoes", "quantity": "1 cup", "calories": 180 }
            ]
        },
        "workouts": [
            { "exercise": "Brisk Walk", "quantity": "45 min" },
            { "exercise": "Jump Rope", "quantity": "5 sets x 1 min" }
        ]
    },
    "Thursday": {
        "meals": {
            "breakfast": [
                { "food": "Scrambled Eggs", "quantity": "3 eggs", "calories": 240 },
                { "food": "Avocado", "quantity": "1/2 medium", "calories": 120 }
            ],
            "lunch": [
                { "food": "Chicken Breast", "quantity": "8 oz", "calories": 376 },
                { "food": "Roasted Sweet Potatoes", "quantity": "1 cup", "calories": 180 },
                { "food": "Steamed Broccoli", "quantity": "1 cup", "calories": 55 }
            ],
            "snack": [
                { "food": "Walnuts", "quantity": "1 handful", "calories": 185 }
            ],
            "dinner": [
                { "food": "Beef Steak", "quantity": "8 oz", "calories": 600 },
                { "food": "Roasted Carrots", "quantity": "1 cup", "calories": 50 },
                { "food": "Green Beans", "quantity": "1 cup", "calories": 44 }
            ]
        },
        "workouts": [
            { "exercise": "Squats", "quantity": "5 sets x 12 reps (bodyweight)" },
            { "exercise": "Push-ups", "quantity": "4 sets x 12 reps" },
            { "exercise": "Brisk Walk", "quantity": "30 min" }
        ]
    },
    "Friday": {
        "meals": {
            "breakfast": [
                { "food": "Eggs", "quantity": "3 eggs", "calories": 240 },
                { "food": "Spinach", "quantity": "1 cup", "calories": 7 }
            ],
            "lunch": [
                { "food": "Salmon", "quantity": "8 oz", "calories": 460 },
                { "food": "Quinoa", "quantity": "1 cup", "calories": 222 },
                { "food": "Steamed Broccoli", "quantity": "1 cup", "calories": 55 }
            ],
            "snack": [
                { "food": "Greek Yogurt", "quantity": "1 cup", "calories": 100 }
            ],
            "dinner": [
                { "food": "Chicken Breast", "quantity": "8 oz", "calories": 376 },
                { "food": "Roasted Brussels Sprouts", "quantity": "1 cup", "calories": 56 },
                { "food": "Sweet Potatoes", "quantity": "1 cup", "calories": 180 }
            ]
        },
        "workouts": [
            { "exercise": "Brisk Walk", "quantity": "45 min" },
            { "exercise": "Jump Rope", "quantity": "5 sets x 1 min" }
        ]
    }
};
// Function to check if today's date matches the selected day in the date picker
function checkDayMatch(date) {
    const selectedDate = new Date(date);
    const day = selectedDate.toLocaleDateString('en-US');

    if (weeklyPlans[day]) {
        return day; // Return the matched day from the plan
    } else {
        return null; // No plan found for the selected day
    }
}

// Load the meal plan and workouts for the selected day
function loadPlan() {
    const date = document.getElementById("datePicker").value;
    const day = checkDayMatch(date); // Get the day based on the selected date

    if (day) {
        const plan = weeklyPlans[day];
        document.getElementById("dayTitle").textContent = `Plan for ${day}`;

        // Clear lists
        ["breakfast", "lunch", "snack", "dinner"].forEach(meal => {
            document.getElementById(meal).innerHTML = "";
        });

        let calorieTable = document.getElementById("calorieTable");
        calorieTable.innerHTML = `
            <tr>
                <th>Food Item</th>
                <th>Quantity</th>
                <th>Calories</th>
            </tr>
        `;
        let totalCalories = 0;

        for (let mealType in plan.meals) {
            plan.meals[mealType].forEach(meal => {
                document.getElementById(mealType).innerHTML += `<li>${meal.food} - ${meal.quantity}</li>`;
                calorieTable.innerHTML += `<tr><td>${meal.food}</td><td>${meal.quantity}</td><td>${meal.calories} kcal</td></tr>`;
                totalCalories += meal.calories;
            });
        }

        document.getElementById("totalCalories").textContent = totalCalories;

        // Populate Workouts
        let workoutList = document.getElementById("workouts");
        workoutList.innerHTML = "";
        plan.workouts.forEach(workout => {
            workoutList.innerHTML += `<li>${workout.exercise} - ${workout.quantity}</li>`;
        });

    } else {
        document.getElementById("dayTitle").textContent = "No Plan Found";
    }
}

// Generate shopping list for the whole week
function showShoppingList() {
    const shoppingList = new Set();

    // Loop through all days and all meals
    for (let day in weeklyPlans) {
        const plan = weeklyPlans[day];
        for (let mealType in plan.meals) {
            plan.meals[mealType].forEach(meal => {
                shoppingList.add(meal.food); // Add food to the shopping list
            });
        }
    }

    const shoppingListContainer = document.getElementById("shoppingList");
    shoppingListContainer.innerHTML = ""; // Clear previous list

    // Populate the shopping list
    shoppingList.forEach(item => {
        shoppingListContainer.innerHTML += `<li>${item}</li>`;
    });

    // Show the modal
    document.getElementById("shoppingListModal").style.display = "block";
}

// Close the shopping list modal
function closeShoppingList() {
    document.getElementById("shoppingListModal").style.display = "none";
}

// Set default date to today and load the plan for that day
document.addEventListener("DOMContentLoaded", () => {
    document.getElementById("datePicker").value = new Date().toISOString().split('T')[0];
    loadPlan(); // Load the plan when the page is first loaded

    // Add event listener for when the date is changed
    document.getElementById("datePicker").addEventListener("change", loadPlan);
});
